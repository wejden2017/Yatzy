@Test
    void calculateMontantTotal_shouldIgnoreNulls() {
        SecurityEndOfDayReport report = mock(SecurityEndOfDayReport.class);

        AccountBalance b1 = mock(AccountBalance.class);
        when(b1.getMontantValeur()).thenReturn(new BigDecimal("100"));

        AccountBalance b2 = mock(AccountBalance.class);
        when(b2.getMontantValeur()).thenReturn(null);

        when(report.getAccountBalances()).thenReturn(Arrays.asList(b1, b2, null));

        BigDecimal total = Semt002Dao.calculateMontantTotal(report);

        assertEquals(new BigDecimal("100"), total);
    }
