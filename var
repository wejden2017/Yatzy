# 1. Vérifier le fichier qm.ini (configuration principale)
sudo cat /mnt/mqdata/data/qmgrs/QM1/qm.ini

# 2. Chercher des fichiers .mqsc d'initialisation
sudo find /mnt/mqdata -name "*.mqsc" -o -name "*.ini"

# 3. Vérifier s'il y a un dossier de config auto
sudo ls -la /mnt/mqdata/data/qmgrs/QM1/
```

Envoyez-moi les résultats, en particulier le contenu de `qm.ini`.

## Ce qu'on cherche dans qm.ini :

Le fichier `qm.ini` contient probablement quelque chose comme :
```
Service:
   Name=AuthorizationService
   ...
Security:
   ConnAuth=DEV.AUTHINFO

# 1. Vérifier que le conteneur tourne bien
docker ps | grep ibm-mq

# 2. Vérifier la configuration actuelle
docker exec ibm-mq runmqsc QM1 << EOF
DISPLAY QMGR CHLAUTH CONNAUTH
DISPLAY CHANNEL(DEV.APP.SVRCONN)
DISPLAY CHLAUTH(DEV.APP.SVRCONN)
END
EOF


# Arrêter et supprimer
docker stop ibm-mq
docker rm ibm-mq

# Recréer SANS MQ_APP_PASSWORD
docker run -d \
  --name ibm-mq \
  --restart unless-stopped \
  -p 1414:1414 \
  -p 9443:9443 \
  -v /mnt/mqdata:/var/mqm \
  -e LICENSE=accept \
  -e MQ_QMGR_NAME=QM1 \
  -e MQ_ADMIN_PASSWORD=admin \
  -e MQ_DEV=true \
  ibmcom/mq:9.2.4.0-r1-amd64

# Attendre 30 secondes
sleep 30

# Vérifier les logs
docker logs ibm-mq | tail -20
