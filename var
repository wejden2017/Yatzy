  @Test
    void sum_ignores_null_values() {
        AccountBalance b1 = mock(AccountBalance.class);
        when(b1.getMontantValeur()).thenReturn(new BigDecimal("10"));

        AccountBalance b2 = mock(AccountBalance.class);
        when(b2.getMontantValeur()).thenReturn(null);

        AccountBalance b3 = mock(AccountBalance.class);
        when(b3.getMontantValeur()).thenReturn(new BigDecimal("5"));

        BigDecimal total = Stream.of(b1, b2, b3)
                .map(AccountBalance::getMontantValeur)
                .filter(Objects::nonNull)
                .reduce(BigDecimal.ZERO, BigDecimal::add);

        assertEquals(new BigDecimal("15"), total);
    }
