VÃ©rification avant de supprimer le conteneur
bash# 1. VÃ©rifier oÃ¹ sont montÃ©s les volumes
docker inspect ibm-mq | grep -A 20 Mounts

# 2. VÃ©rifier le contenu du volume
ls -la /mnt/mqdata/

# 3. VÃ©rifier si le queue manager est bien dans le volume
ls -la /mnt/mqdata/qmgrs/
Si vous voyez /mnt/mqdata/qmgrs/QM1/ â†’ VOS DONNÃ‰ES SONT SÃ›RES âœ…
Le volume /mnt/mqdata contient toutes vos queues et messages. Quand vous recrÃ©ez le conteneur avec le mÃªme volume (-v /mnt/mqdata:/mnt/mqm), tout sera prÃ©servÃ©.
Sauvegarde de sÃ©curitÃ© (optionnelle mais recommandÃ©e)
bash# Faire une sauvegarde complÃ¨te du volume
sudo tar -czf /tmp/mqdata-backup-$(date +%Y%m%d-%H%M%S).tar.gz /mnt/mqdata/

# VÃ©rifier la sauvegarde
ls -lh /tmp/mqdata-backup-*
RecrÃ©ation SANS perte de donnÃ©es
bash# ArrÃªter le conteneur (les donnÃ©es restent dans /mnt/mqdata)
docker stop ibm-mq

# Supprimer le conteneur (les donnÃ©es restent dans /mnt/mqdata)
docker rm ibm-mq

# RecrÃ©er avec le MÃŠME volume
docker run -d \
  --name ibm-mq \
  --restart unless-stopped \
  -p 1414:1414 \
  -p 9443:9443 \
  -v /mnt/mqdata:/mnt/mqm \
  -e LICENSE=accept \
  -e MQ_QMGR_NAME=QM1 \
  -e MQ_ADMIN_PASSWORD=admin \
  -e MQ_DEV=true \
  -e MQ_APP_PASSWORD="" \
  ibmcom/mq:9.2.4.0-r1-amd64
Vos queues et messages seront intacts tant que vous utilisez le mÃªme volume ! ğŸ‰
Voulez-vous d'abord vÃ©rifier avec les commandes de vÃ©rification ?
