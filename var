SELECT
  s.sid, s.serial#, s.username, s.status,
  s.machine, s.program, s.module,
  l.name, l.type, l.mode_held, l.mode_requested
FROM dba_ddl_locks l
JOIN v$session s ON s.sid = l.session_id
WHERE l.owner = 'LUCA'
  AND l.name  = 'PACK_GESTION_ACCES'
ORDER BY s.sid;

ALTER SYSTEM KILL SESSION '53,55824' IMMEDIATE;
ALTER SYSTEM KILL SESSION '59,41971' IMMEDIATE;
ALTER SYSTEM KILL SESSION '86,19890' IMMEDIATE;
ALTER SYSTEM KILL SESSION '257,65427' IMMEDIATE;
ALTER SYSTEM KILL SESSION '287,49227' IMMEDIATE;
ALTER SYSTEM KILL SESSION '295,16780' IMMEDIATE;

SELECT 
    l.session_id AS blocking_sid,
    s.serial#,
    s.username,
    s.status,
    s.program,
    s.machine,
    l.oracle_username,
    l.os_user_name,
    o.object_name,
    l.locked_mode
FROM v$locked_object l
JOIN dba_objects o ON l.object_id = o.object_id
JOIN v$session s ON l.session_id = s.sid
WHERE o.object_name = 'PACK_GESTION_ACCES';

-- Générer les commandes
SELECT 'ALTER SYSTEM KILL SESSION ''' || sid || ',' || serial# || ''' IMMEDIATE;'
FROM v$session
WHERE username = 'LUCA'
  OR client_identifier LIKE '%LUCA%';

SELECT 
    s.sid, 
    s.serial#, 
    p.spid AS "OS Process ID",
    s.username,
    s.program
FROM v$session s
JOIN v$process p ON s.paddr = p.addr
WHERE s.username = 'LUCA';
