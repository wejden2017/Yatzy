* ---------------------------------------------------------------
* Fichier MQSC généré automatiquement par Ansible
* ---------------------------------------------------------------

* ---------------------------------------------------------------
* Désactivation de la sécurité (CHLAUTH + CONNAUTH)
* DEV et QA uniquement !
* ---------------------------------------------------------------
ALTER QMGR CHLAUTH(DISABLED)
ALTER QMGR CONNAUTH(' ')
REFRESH SECURITY TYPE(CONNAUTH)

* ---------------------------------------------------------------
* Création du channel applicatif
* Exemple : DEV.APP.SVRCONN / QA.APP.SVRCONN
* ---------------------------------------------------------------
DEFINE CHANNEL('{{ mq_channel }}') CHLTYPE(SVRCONN) TRPTYPE(TCP) +
       MCAUSER('app') REPLACE

* ---------------------------------------------------------------
* Droits (Permissions MQ)
* Permet à 'app' (ou tout client MQ sans auth) d'utiliser toutes les queues
* ---------------------------------------------------------------
SET AUTHREC PROFILE('*') OBJTYPE(QMGR) PRINCIPAL('app') AUTHADD(ALL)
SET AUTHREC PROFILE('*') OBJTYPE(QUEUE) PRINCIPAL('app') AUTHADD(ALL)

* ---------------------------------------------------------------
* Fin du fichier MQSC
* ---------------------------------------------------------------
