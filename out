SET SERVEROUTPUT ON;

BEGIN
    FOR rec IN (SELECT DIRECTORY_NAME, DIRECTORY_PATH 
                FROM DBA_DIRECTORIES 
                WHERE DIRECTORY_NAME = 'DATA_APF') LOOP
        DBMS_OUTPUT.PUT_LINE('Directory: ' || rec.DIRECTORY_NAME);
        DBMS_OUTPUT.PUT_LINE('Path: ' || rec.DIRECTORY_PATH);
    END LOOP;
END;
/



SET SERVEROUTPUT ON;

DECLARE
    v_exists BOOLEAN;
    v_length NUMBER;
    v_blocksize NUMBER;
BEGIN
    UTL_FILE.FGETATTR('DATA_APF', 'itf_svgrm.txt', v_exists, v_length, v_blocksize);
    
    IF v_exists THEN
        DBMS_OUTPUT.PUT_LINE('✓ Fichier trouvé!');
        DBMS_OUTPUT.PUT_LINE('  Taille: ' || v_length);
    ELSE
        DBMS_OUTPUT.PUT_LINE('✗ Fichier non trouvé par Oracle');
    END IF;
EXCEPTION
    WHEN OTHERS THEN
        DBMS_OUTPUT.PUT_LINE('✗ ERREUR: ' || SQLCODE || ' - ' || SQLERRM);
END;
/
