CREATE TABLE LUCA.EMPLOYES_TEST (
    id NUMBER PRIMARY KEY,
    nom VARCHAR2(100) NOT NULL,
    prenom VARCHAR2(100) NOT NULL,
    email VARCHAR2(200),
    date_embauche DATE DEFAULT SYSDATE,
    salaire NUMBER(10,2)
);

INSERT INTO LUCA.EMPLOYES_TEST (id, nom, prenom, email, salaire) 
VALUES (1, 'DUPONT', 'Jean', 'jean.dupont@example.com', 45000);

INSERT INTO LUCA.EMPLOYES_TEST (id, nom, prenom, email, salaire) 
VALUES (2, 'MARTIN', 'Sophie', 'sophie.martin@example.com', 52000);

INSERT INTO LUCA.EMPLOYES_TEST (id, nom, prenom, email, salaire) 
VALUES (3, 'DURAND', 'Pierre', 'pierre.durand@example.com', 48000);

COMMIT;

CREATE VIEW LUCA.VUE_EMPLOYES_SENIORS AS
SELECT id, nom, prenom, email, salaire
FROM LUCA.EMPLOYES_TEST
WHERE salaire > 45000;

-- Lister les tables
SELECT * FROM LUCA.EMPLOYES_TEST;

-- Lister via la vue
SELECT * FROM LUCA.VUE_EMPLOYES_SENIORS;

avec salma :

SELECT * FROM LUCA.EMPLOYES_TEST;
SELECT * FROM LUCA.VUE_EMPLOYES_SENIORS;

INSERT INTO LUCA.EMPLOYES_TEST (id, nom, prenom, email, salaire) 
VALUES (4, 'BERNARD', 'Marie', 'marie.bernard@example.com', 55000);
COMMIT;

-- ✅ UPDATE devrait FONCTIONNER
UPDATE LUCA.EMPLOYES_TEST 
SET salaire = 50000 
WHERE id = 1;
COMMIT;

-- ✅ DELETE devrait FONCTIONNER
DELETE FROM LUCA.EMPLOYES_TEST WHERE id = 4;
COMMIT;

test jerome :

SELECT * FROM LUCA.EMPLOYES_TEST;
SELECT * FROM LUCA.VUE_EMPLOYES_SENIORS;

avec sysdba :

SELECT grantee, table_name, privilege, grantable
FROM dba_tab_privs 
WHERE table_name IN ('EMPLOYES_TEST', 'VUE_EMPLOYES_SENIORS')
  AND owner = 'LUCA'
  AND grantee = 'QA_ROLE'
ORDER BY table_name, privilege;
