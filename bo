Fichier : outputs.tf (dans votre répertoire principal):


output "database_instance_info" {
  description = "Information sur l'instance database"
  value = {
    instance_id = module.ec2_database.instance_id
    instance_name = module.ec2_database.instance_name  # si cet output existe
    tags = module.ec2_database.tags  # si cet output existe
  }
}

output "protected_instances_found" {
  description = "Instances trouvées avec tag Protection"
  value = data.aws_instances.protected.ids
}

Fichier : modules/ec2/instances/outputs.tf

output "instance_id" {
  description = "ID of the EC2 instance"
  value       = aws_instance.this.id
}

output "instance_name" {
  description = "Name of the EC2 instance"
  value       = aws_instance.this.tags["Name"]
}

output "all_tags" {
  description = "All tags of the instance"
  value       = aws_instance.this.tags
}
