variables:
  # Environnement à déployer : "poc" ou "dev"
  TF_ENVIRONMENT: "poc"  # Valeur par défaut

  # Fichier .tfvars basé sur l'environnement
  TERRAFORM_VAR_FILE: environments/${TF_ENVIRONMENT}/${TF_ENVIRONMENT}.tfvars

  # AWS / Projet
  APP_ID: "APP-00451"
  LSEG_VAULT_NAMESPACE: "aws"
  PROJECT_ID: "cats-app-infrastructure"
  PROJECT_NAME: "app-00451.cats-app-infrastructure"
  AWS_DEFAULT_REGION: "eu-west-2"
  AWS_REGION: ${AWS_DEFAULT_REGION}

  # Comptes AWS
  AWS_ACCOUNT_POC: "106653624073"
  AWS_ACCOUNT_DEV: "097680592951"
  AWS_ACCOUNT: ${AWS_ACCOUNT_${TF_ENVIRONMENT | upcase}}  # auto-sélection selon TF_ENVIRONMENT

  # Terraform
  LSEG_TERRAFORM_VERSION: "1.2.9-0b5a5dd5"
  TERRAFORM_VERSION: "1.7.5"
  TERRAFORM_PATH: "terraform"
  TERRAFORM_PLAN_NAME: "cats_cPlan"

  # Déploiement
  PROJECT_VERSION: "latest"
  REPOSITORY_NAME: "${PROJECT_ID}"
  REMOTE_USER: "ec2-user"
  LSEG_PPE_VALUE: "true"
  LSEG_PROD_VALUE: "false"
  CI_DEBUG_TRACE: "false"

  # State S3
  TF_VAR_TF_STATE_BUCKET: "cats-terraform/${TF_ENVIRONMENT}"
  TF_VAR_TF_STATE_FILE_KEY: "Lchcats/aws/terraform.tfstate"
  TF_VAR_AWS_REGION: ${AWS_DEFAULT_REGION}
  TF_VAR_KMS_KEY: "alias/lch-cats-terraform"
