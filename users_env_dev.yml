SELECT owner, trigger_name, status
FROM dba_triggers
WHERE trigger_name = 'TRG_AUTO_GRANT_QA_ROLE';

CREATE TABLE LUCA.DDL_AUTO_GRANT_LOG (
  log_id       NUMBER GENERATED BY DEFAULT AS IDENTITY,
  log_date     DATE,
  session_user VARCHAR2(30),
  obj_owner    VARCHAR2(30),
  obj_type     VARCHAR2(30),
  obj_name     VARCHAR2(128),
  sql_text     VARCHAR2(4000)
);

CREATE OR REPLACE TRIGGER LUCA.TRG_AUTO_GRANT_QA_ROLE
AFTER CREATE ON SCHEMA
DECLARE
  PRAGMA AUTONOMOUS_TRANSACTION;
BEGIN
  INSERT INTO LUCA.DDL_AUTO_GRANT_LOG (
    log_date,
    session_user,
    obj_owner,
    obj_type,
    obj_name,
    sql_text
  )
  VALUES (
    SYSDATE,
    SYS_CONTEXT('USERENV', 'SESSION_USER'),
    ORA_DICT_OBJ_OWNER,
    ORA_DICT_OBJ_TYPE,
    ORA_DICT_OBJ_NAME,
    'TRIGGER FIRED'
  );

  COMMIT;
END;
/
CREATE TABLE ZOI_TRIGGER_TEST (ID NUMBER);

SELECT log_date, session_user, obj_owner, obj_type, obj_name, sql_text
FROM   LUCA.DDL_AUTO_GRANT_LOG
ORDER BY log_id DESC;



lllll

SELECT trigger_body
FROM   dba_triggers
WHERE  owner = 'LUCA'
AND    trigger_name = 'TRG_AUTO_GRANT_QA_ROLE';

