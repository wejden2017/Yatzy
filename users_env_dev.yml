-- 1) Rôles accordés à JEROME
SELECT granted_role, default_role
FROM   dba_role_privs
WHERE  grantee = 'JEROME';

-- 2) Simulation de sa session
CONNECT JEROME/son_mot_de_passe@TON_TNS;

SHOW USER;

-- 3) Rôles actifs dans la session
SELECT * FROM session_roles;


ALTER USER JEROME DEFAULT ROLE ALL;
-- puis se reconnecter et re-tester

-- Privilèges système du rôle QA_ROLE
SELECT privilege
FROM   dba_sys_privs
WHERE  grantee = 'QA_ROLE'
ORDER BY privilege;

-- Privilèges sur objets (si tu as mis des GRANT sur des tables / vues existantes)
SELECT owner, table_name, privilege
FROM   dba_tab_privs
WHERE  grantee = 'QA_ROLE'
ORDER BY owner, table_name, privilege;

SELECT username, default_tablespace
FROM   dba_users
WHERE  username = 'JEROME';

SELECT tablespace_name, max_bytes
FROM   dba_ts_quotas
WHERE  username = 'JEROME';

SELECT privilege
FROM   dba_sys_privs
WHERE  grantee = 'QA_ROLE'
  AND  privilege IN ('CREATE TABLE','CREATE ANY TABLE','ALTER ANY TABLE','DROP ANY TABLE');


