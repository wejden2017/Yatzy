GRANT CREATE SESSION TO {{ oracle_role_name }};
GRANT CONNECT TO {{ oracle_role_name }};
GRANT RESOURCE TO {{ oracle_role_name }};

-- ✅ AJOUTER CES LIGNES (CREATE ANY au lieu de CREATE)
GRANT CREATE ANY TABLE TO {{ oracle_role_name }};
GRANT CREATE ANY VIEW TO {{ oracle_role_name }};
GRANT CREATE ANY PROCEDURE TO {{ oracle_role_name }};
GRANT CREATE ANY SEQUENCE TO {{ oracle_role_name }};
GRANT CREATE ANY TRIGGER TO {{ oracle_role_name }};
GRANT CREATE ANY TYPE TO {{ oracle_role_name }};
GRANT CREATE ANY SYNONYM TO {{ oracle_role_name }};

-- ✅ AJOUTER AUSSI DROP ANY (pour pouvoir supprimer)
GRANT DROP ANY TABLE TO {{ oracle_role_name }};
GRANT DROP ANY VIEW TO {{ oracle_role_name }};
GRANT DROP ANY PROCEDURE TO {{ oracle_role_name }};
GRANT DROP ANY SEQUENCE TO {{ oracle_role_name }};
GRANT DROP ANY TRIGGER TO {{ oracle_role_name }};

GRANT CREATE MATERIALIZED VIEW TO {{ oracle_role_name }};
GRANT CREATE DATABASE LINK TO {{ oracle_role_name }};
GRANT SELECT_CATALOG_ROLE TO {{ oracle_role_name }};
GRANT SELECT ANY DICTIONARY TO {{ oracle_role_name }};
GRANT ANALYZE ANY TO {{ oracle_role_name }};

-- Vues système
GRANT SELECT ON V_$SESSION TO {{ oracle_role_name }};
GRANT SELECT ON V_$SQL TO {{ oracle_role_name }};
GRANT SELECT ON V_$SQL_PLAN TO {{ oracle_role_name }};
GRANT SELECT ON V_$SQLAREA TO {{ oracle_role_name }};
GRANT SELECT ON V_$PARAMETER TO {{ oracle_role_name }};

BEGIN
    DBMS_OUTPUT.PUT_LINE('[SUCCESS] All privileges applied to {{ oracle_role_name }}');
END;
/

COMMIT;
